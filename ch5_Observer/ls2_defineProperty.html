<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>defineProperty</title>
</head>
<body>
<h1 id="num"></h1>
<button id="btn">+</button>

<script>
    //先实现简单的"双向绑定"demo
    let data = {
        num: 0
    };

    let num = data.num;//保存num的值

    Object.defineProperty(data, 'num', {
        get() {
            return num
        },
        set(newVal) {
            num = newVal;//data.num = newVal; 错误写法：会无限set循环
            document.querySelector('#num').innerHTML = newVal
        }
    });

    const $btn = document.querySelector('#btn');
    $btn.addEventListener('click', () => {
        data.num += 1;
        console.log(data)
    })
</script>
</body>
</html>

